<!-- To Do: 
    Sprint 2:
    - Changed clinic Location to clinic details to present the one and only clinic represented by the employer account. Please present details using hbs
    - Changed Software proficiency in optional filters to checkbox, please use this instead!
-->
<script>

function checkRadio() {
    if (document.getElementById('Permanent').checked) {
        document.getElementById('date_perm').style.display = 'block';
        document.getElementById('date_range').style.display = 'none'

    } else  {
        document.getElementById('date_perm').style.display = 'none';
        document.getElementById('date_range').style.display = 'inline-flex';
    }
}


function placementCheck() {
    if (document.getElementById('Permanent').checked) {
        document.getElementById('date_perm').style.display = 'block';
        document.getElementById('date_range').style.display = 'none'

    } else  {
        document.getElementById('date_perm').style.display = 'none';
        document.getElementById('date_range').style.display = 'inline-flex';
    }
}
function dateDefault() {
    var dateObj = new Date();
    let month = dateObj.getMonth() + 1;

    if(month < 10) {
        month = '0' + month;
    } 

    let day = dateObj.getDate() + 1;
    let day_end = dateObj.getDate() + 2;

    if(day < 10) {
        day = '0' + day;
    } 

    let year = dateObj.getFullYear();

    let output = year+'-'+month+'-'+day;
    let output_end = year+'-'+month+'-'+day_end;

    document.getElementById('date_start').defaultValue = output;
    document.getElementById('date_end').defaultValue = output_end;
}

window.onload = function(){
    dateDefault();
    checkRadio();
}

</script>

<style>
    body {
        background-color: rgb(245, 245, 245);
    }
    form label {
        font-weight: bold;
    }
</style>
<p class="h1 shrink gradient-text" style="font-size: 70px; text-align: center; margin-top: 4rem;">
    Create a Job
    <i class="fas fa-tooth"></i>
</p>
<!-- OWNER INFORMATION -->
<form action="/create" method="POST">
    <div class="card shadow-sm border mx-auto" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Placement</div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">What kind of job are you offering?</p>
                <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
              <label class="btn w-100 btn-secondary active">
                <i class="fas fa-user" style="font-size: 42px"></i> <br>
                <input type="radio" onclick="placementCheck();" name="placement" id="Permanent" value="Permanent" {{check "Permanent" input.placement "Permanent"}}>Permanent
              </label>
              <label class="btn w-100 btn-secondary">
                <i class="fas fa-user-nurse" style="font-size: 42px"></i> <br>
                <input type="radio" onclick="placementCheck();" name="placement" id="Temporary" value="Temporary" {{check "Temporary" input.placement "Permanent"}}>Temporary
            </div>
        </div>
    </div>

    <div class="card shadow-sm border mx-auto" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
        <div class="card-title" style="font-size: 42px;">Position</div>
        <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Who are you looking to hire?</p>
            <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
          <label class="btn w-100 btn-secondary active">
            <i class="fas fa-user" style="font-size: 42px"></i> <br>
            <input type="radio" name="position" id="Front Desk" value="Front Desk" {{check "Front Desk" input.position "Front Desk"}}> Front Desk
          </label>
          <label class="btn w-100 btn-secondary">
            <i class="fas fa-user-nurse" style="font-size: 42px"></i> <br>
            <input type="radio" name="position" id="Dental Assistant" value="Dental Assistant" {{check "Dental Assistant" input.position "Front Desk"}}> Dental Assistant
          </label>
          <label class="btn w-100 btn-secondary">
            <i class="fas fa-user-ninja" style="font-size: 42px"></i> <br>
            <input type="radio" name="position" id="Dental Hygienist" value="Dental Hygienist" {{check "Dental Hygienist" input.position "Front Desk"}}> Dental Hygienist
          </label>
          <label class="btn w-100 btn-secondary">
            <i class="fas fa-user-md" style="font-size: 42px"></i> <br>
            <input type="radio" name="position" id="Dentist" value="Dentist" {{check "Dentist" input.position "Front Desk"}}> Dentist
          </label>
        </div>
            </div>
    </div>

    <!-- JOB DETAILS -->
     <div class="card shadow-sm border mx-auto" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Job Details</div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Write a quick description about this job</p>
            <div class="card-text">
                <label>Job Description</label><br />
                <textarea class="w-100 border" id="jobdescription" name="jobdescription" style="height: 8em;" required>{{input.jobdescription}}</textarea>
             </div>
        </div>
    </div>  

    <!-- CLINIC LOCATION -->
    <div class="card shadow-sm border mx-auto" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Clinic Details</div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Please confirm the following location details for your job.</p>
            <div class="card-text" style="margin-bottom: -20px; border: 1px solid rgb(173, 169, 169); padding-left: 10px;">
                <p class="h3" style="margin-top: 14px"> {{emp.clinicName}} </p>
                <p class="mb-0"> Clinic Address: {{emp.clinicAddress.houseNo}} {{emp.clinicAddress.street}}</p>
                <p> Location: {{emp.clinicAddress.city}}, {{emp.clinicAddress.state}}</p>
                <!--
                <label for="inputGroupSelect04">Clinic</label>
                <div class="input-group">
                    <select class="custom-select" id="clinic" name="clinic" aria-label="Example select with button addon">
                        <option value="Main Clinic" selected>Main Clinic</option>
                    </select>
                </div>
                -->
            </div>
            <br>
            <label for="example-datetime-local-input" style="margin-top: 10px">Date Needed</label> <br>
            <div class="row">

                <div class="col" id="date_perm">
                    <small><i>Date range not available for permanent job postings</i></small>
                </div>

                <div id="date_range" class="w-100" style="display: none;">
                    <div class="col">
                        <small>Start Date</small><br>
                        <input class="form-control w-100" type="date" id="date_start" name="date_start">
                    </div>

                    <div class="col">
                        <small>End Date</small><br>
                        <input class="form-control w-100" type="date" id="date_end" name="date_end">
                    </div>
                </div>
            </div>

            <p style="color: red; margin-top: 3px">{{dateError}}</p>

        </div>
    </div>

    <!-- CLINIC CONTACT -->
    <div class="card shadow-sm border mx-auto" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Additional Job Requirements</div>
            <div class="card-title">
                            <label for="clinic_con_name">Software Proficiency</label>
                            <div class="container ">
                                <div class="form-check col w-100" >
                                  <input class="form-check-input" type="checkbox" value="Dentrix" id="Dentrix" name="software" {{checkbox "Dentrix" input.software}}>
                                  <label class="col form-check-label" for="defaultCheck1">
                                    Dentrix
                                  </label>
                                </div>

                                <div class="form-check col w-100" >
                                  <input class="form-check-input" type="checkbox" value="Easy Dental" id="Easy Dental" name="software" {{checkbox "Easy Dental" input.software}}>
                                  <label class="col form-check-label" for="defaultCheck1">
                                    Easy Dental
                                  </label>
                                </div>

                                <div class="form-check col w-100">
                                  <input class="form-check-input" type="checkbox" value="Eaglesoft" id="Eaglesoft" name="software" {{checkbox "Eaglesoft" input.software}}>
                                  <label class="col form-check-label" for="defaultCheck1">
                                    Eaglesoft
                                  </label>
                                </div>

                                <div class="form-check col w-100">
                                  <input class="form-check-input" type="checkbox" value="Open Dental" id="Open Dental" name="software" {{checkbox "Open Dental" input.software}}>
                                  <label class="col form-check-label" for="defaultCheck1">
                                    Open Dental
                                  </label>
                                </div>
                            </div>
                            <!--
                            <input type="text" class="form-control" id="software" name="software" aria-describedby="emailHelp" placeholder="List down your needed softwares..." value="{{input.software}}"/>
                            -->
                           <br>
                <div class="card-text">
                <label for="inputGroupSelect04">Years of Experience</label>
                <div class="input-group">
                  <select class="custom-select" id="experience" name="experience" aria-label="Example select with button addon">
                    <option value="Less than a Year"  {{select "Less than a Year" input.experience}}>Less than a Year</option>
                    <option value="1 Year" {{select "1 Year" input.experience}}>1 Year</option>
                    <option value="More than a Year" {{select "More than a Year" input.experience}}>More than a Year </option>
                    <option value="5 Years or More" {{select "5 Years or More" input.experience}}>5 Years or More</option>
                  </select>
                </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary w-100" id="save_button" style="background-color: #8455ca; font-weight: 800">Post</button>
        </div>
    </div>
    </div>
</form>