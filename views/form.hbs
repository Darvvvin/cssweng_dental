<!-- To Do: 
    Sprint 3: Other submission text box
-->

<style>
    body {
        background-color: rgb(245, 245, 245);
    }

    form label {
        font-weight: bold;
    }

    textarea {
        resize: none;
    }

    #container {
        display: flex;
        justify-content: left;
        height: 250px;
        text-align: center;
        margin-top: -20px;
    }

    .container2 {
        height: auto;
        width: 250px;
        padding-top: 40px;
    }

    .container3 {
        height: auto;
        width: 510px;
        padding-left: 50px;
        padding-top: 70px;
        margin-left: -30px;
    }

    .img-circle {
        width: 150px;
        height: 150px;
        border: 4px solid none;
        border-radius: 50%;
    }

    .dropdown {
        position: relative;
        display: inline-block;
        cursor: pointer;
    }

    input[type="radio"]:checked+.showdate {
        display: block;
    }

    input[type="radio"]+.details {
        display: none;
    }

    input[type="radio"]+.temp {
        display: none;
    }

    input[type="radio"]:checked+.showrate {
        display: block;
    }
    
</style>

<p class="h1 shrink gradient-text" style="font-size: 70px; text-align: center; margin-top: 4rem;">BookMeDental <i
        class="fas fa-tooth"></i></p>

<form class="dirty" id="form" method="POST" action="/form" enctype="multipart/form-data">
    <div class="card mx-auto border shadow-sm" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Contact Information<span class="text-danger"> *</span></div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Tell us about yourself and how we can
                contact you.</p>
            <small class="text-danger">* Required fields</small>
            <div class="card-text">
                <div class="form-group">
                    <div class="row">
                        <div class="col pr-2">
                            <label for="fname">First Name<span class="text-danger"> *</span></label>
                            <input type="text" class="form-control" id="fname" name="fname" aria-describedby="emailHelp"
                                placeholder="First Name" value="{{input.fname}}" />
                            <p style="color: red;">
                                {{details.fnameError}}
                            </p>
                        </div>
                        <div class="col pl-2">
                            <label for="lname">Last Name<span class="text-danger"> *</span></label>
                            <input type="text" class="form-control" id="lname" name="lname" aria-describedby="emailHelp"
                                placeholder="Last Name" value="{{input.lname}}" />
                            <p style="color: red;">
                                {{details.lnameError}}
                            </p>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-8 pr-2" style="margin-top: 15px;">
                                <label for="streetaddress">Street Address<span class="text-danger"> *</span></label>
                                <input type="text" class="form-control" id="streetAdd" name="streetAdd"
                                    aria-describedby="emailHelp" placeholder="Street Address"
                                    value="{{input.streetAdd}}" />
                                <p style="color: red;">
                                    {{details.streetAddError}}
                                </p>
                            </div>
                            <div class="col-4 pl-2" style="margin-top: 15px;">
                                <label for="house">House No.<span class="text-danger"> *</span></label>
                                <input type="text" class="form-control" id="house" name="house"
                                    aria-describedby="emailHelp" placeholder="House No." value="{{input.house}}" />
                                <p style="color: red;">
                                    {{details.houseError}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="row">
                            <div class="col-6 pr-1">
                                <label for="state">State<span class="text-danger"> *</span></label>
                                <select name="state" class="form-control" id="state"
                                    onchange="populateCities(this.value, 'city')">
                                    <option value="">--Select a state--</option>
                                    {{#each states}}
                                    <option value="{{this}}" {{select this ../input.state}}>{{this}}</option>
                                    {{/each}}
                                </select>

                                <p style="color: red;">
                                    {{details.stateError}}
                                </p>
                            </div>
                            <div class="col-4 pl-1 pr-1">
                                <label for="city">City<span class="text-danger"> *</span></label>
                                <select name="city" class="form-control" id="city">
                                    <option value="">--Select a city--</option>
                                    {{#each cities}}
                                    <option value="{{this}}" {{select this ../input.city}}>{{this}}</option>
                                    {{/each}}
                                </select>

                                <p style="color: red;">
                                    {{details.cityError}}
                                </p>
                            </div>
                            <div class="col-2 pl-1">
                                <label for="zip">Zip<span class="text-danger"> *</span></label>
                                <input type="text" class="form-control" id="zip" name="zip" aria-describedby="emailHelp"
                                    placeholder="Zip" value="{{input.zip}}" />
                                <p style="color: red;">
                                    {{details.zipError}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone<span class="text-danger"> *</span></label>
                        <input type="text" class="form-control" id="phone" name="phone" placeholder="(555) 555-1234"
                            value="{{input.phone}}" />
                        <p style="color: red;">
                            {{details.phoneError}}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card mx-auto border shadow-sm" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Qualifications<span class="text-danger"> *</span></div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Select the position that you're seeking
                and tell us about your experiences.</p>
            <div class="card-text">
                <label>Position<span class="text-danger"> *</span></label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="position" id="exampleRadios1" value="Front Desk"
                        {{check "Front Desk" input.position "Front Desk"}} />
                    <p style="margin-bottom: -3px;">Front Desk</p>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="position" id="exampleRadios2"
                        value="Dental Assistant" {{check "Dental Assistant" input.position "Front Desk"}} />
                    <p style="margin-bottom: -3px;">Dental Assistant</p>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="position" id="exampleRadios3"
                        value="Dental Hygienist" {{check "Dental Hygienist" input.position "Front Desk"}} />
                    <p style="margin-bottom: -3px;">Dental Hygienist</p>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="position" id="exampleRadios3" value="Dentist"
                        {{check "Dentist" input.position "Front Desk"}} />
                    <p style="margin-bottom: -3px;">Dentist</p>
                </div>
                <div class="col-4" style="margin-left: -15px; margin-top: 10px;">
                    <label for="yearsofexperience">Years of Experience?<span class="text-danger"> *</span></label>
                    <input type="text" class="form-control" id="years" name="years" aria-describedby="emailHelp"
                        placeholder="Years of experience" value="{{input.years}}" />
                    <p style="color: red;">
                        {{details.yearsError}}
                    </p>
                </div>
                <div class="form-group" style="margin-top: 20px;">
                    <label for="language">What second language do you speak fluently?<span class="text-danger"> *</span></label>
                    <input type="text" class="form-control" id="language" name="language"
                        placeholder="List down your second language..." value="{{input.language}}" />
                    <p style="color: red;">
                        {{details.languageError}}
                    </p>
                </div>
                <div class="form-group" style="margin-top: 20px;">
                    <label for="dentalprograms">What dental programs(s) are you proficient?<span class="text-danger"> *</span></label>
                    <!--
                    <input type="text" class="form-control" id="programs" name="programs" name="dentalprograms"
                        placeholder="List down any programs..." value="{{input.programs}}" />
                    -->
                    <div class="container ">
                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Dentrix" id="defaultCheck1" name="programs" {{checkbox "Dentrix" input.programs}}>
                          <label class="col form-check-label" for="defaultCheck1">
                            Dentrix
                          </label>
                        </div>

                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Easy Dental" id="defaultCheck1" name="programs" {{checkbox "Easy Dental" input.programs}}>
                          <label class="col form-check-label" for="defaultCheck1">
                            Easy Dental
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Eaglesoft" id="defaultCheck1" name="programs" {{checkbox "Eaglesoft" input.programs}}>
                          <label class="col form-check-label" for="defaultCheck1">
                            Eaglesoft
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Open Dental" id="defaultCheck1" name="programs" {{checkbox "Open Dental" input.programs}}>
                          <label class="col form-check-label" for="defaultCheck1">
                            Open Dental
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Open Dental" id="defaultCheck1" name="programs" {{checkbox "Open Dental" input.programs}}>
                          <label class="col form-check-label" for="defaultCheck1">
                            Other
                          </label>
                        </div>
                    </div>
                </div>
                <hr>
                  <p style="color: red;">
                        {{details.programsError}}
                    </p>
                <div class="form-group" style="margin-top: 10px;">
                    <label for="workspecialties">List down any specialties you have work experience with<span class="text-danger"> *</span></label>
                    <!--
                    <input type="text" class="form-control" id="specialties" name="specialties"
                        placeholder="List down your specialties..." value="{{input.specialties}}" />
                    -->
                    <div class=" container">
                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="General Dentistry" id="generaldentistry" name="specialties" {{checkbox "General Dentistry" input.specialties}}>
                          <label class="col form-check-label" for="generaldentistry">
                            General Dentistry
                          </label>
                        </div>

                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Endodentistry" id="endodentistry" name="specialties" {{checkbox "Endodentistry" input.specialties}}>
                          <label class="col form-check-label" for="endodentistry">
                            Endodontistry
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Periodontistry" id="periodontistry" name="specialties" {{checkbox "Periodontistry" input.specialties}}>
                          <label class="col form-check-label" for="periodontistry">
                            Periodontistry
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Oral Surgery" id="oralsurgery" name="specialties" {{checkbox "Oral Surgery" input.specialties}}>
                          <label class="col form-check-label" for="oralsurgery">
                            Oral Surgery
                          </label>
                        </div>
                    </div>

                    <div class=" container">
                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Anesthesiology" id="anesthesiology" name="specialties" {{checkbox "Anesthesiology" input.specialties}}>
                          <label class="col form-check-label" for="anesthesiology">
                            Anesthesiology
                          </label>
                        </div>

                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Dental Hygiene" id="dentalhygiene" name="specialties" {{checkbox "Dental Hygiene" input.specialties}}>
                          <label class="col form-check-label" for="dentalhygiene">
                            Dental Hygiene
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Office Management" id="officemanagement" name="specialties" {{checkbox "Office Management" input.specialties}}>
                          <label class="col form-check-label" for="officemanagement">
                            Office Management
                          </label>
                        </div>

                        <div class="form-check col w-100">
                          <input class="form-check-input" type="checkbox" value="Receptionist" id="receptionist" name="specialties" {{checkbox "Receptionist" input.specialties}}>
                          <label class="col form-check-label" for="receptionist">
                            Receptionist
                          </label>
                        </div>

                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Insurance Billing" id="insurancebilling" name="specialties" {{checkbox "Insurance Billing" input.specialties}}>
                          <label class="col form-check-label" for="insurancebilling">
                            Insurance Billing
                          </label>
                        </div>

                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Dental Assisting" id="dentalassisting" name="specialties" {{checkbox "Dental Assisting" input.specialties}}>
                          <label class="col form-check-label" for="dentalassisting">
                            Dental Assisting
                          </label>
                        </div>

                        <div class="form-check col w-100" >
                          <input class="form-check-input" type="checkbox" value="Dental Assisting" id="dentalassisting" name="specialties" {{checkbox "Dental Assisting" input.specialties}}>
                          <label class="col form-check-label" for="dentalassisting">
                            Other
                          </label>
                        </div>
                    </div>

                    <hr>
                    <p style="color: red;">
                        {{details.specialtiesError}}
                    </p>

                    <p style="font-style: italic; font-size: 12px;">Please answer this part truthfully.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="card mx-auto border shadow-sm" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Placement Preferences<span class="text-danger"> *</span></div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Tell us about your work preferences so we
                can help you find great opportunities.</p>
            <div class="card-text">
                <label>What type of placement are you seeking?<span class="text-danger"> *</span></label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="placement" id="placement" value="Permanent Work"
                        {{check "Permanent Work" input.placement "Permanent Work"}} />
                    <p style="margin-bottom: -3px;">Permanent Work</p>
                </div>
                <div class="form-check">
                    <label style="font-weight: 10; color: rgb(97, 95, 95);">Temporary Work</label>
                    <input class="form-check-input" type="radio" name="placement" id="placement" value="Temporary Work"
                        style="margin-left: -138.3px;" {{check "Temporary Work" input.placement "Permanent Work"}} />
                    <div class="col-5 temp showrate" style="margin-left: -35px; margin-top: -5px;">
                        <label for="payrate">Desired pay rate per hour?<span class="text-danger"> *</span></label>
                        <input type="text" class="form-control" id="payrate" name="payrate" placeholder="$/hr..."
                            value="{{input.payrate}}" style="margin-bottom: 10px;" />
                        <p style="color: red;">
                            {{details.payrateError}}
                        </p>
                    </div>
                </div>


                <label>When are you available for placement?<span class="text-danger"> *</span></label>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="availability" id="availability"
                        value="Available immediately"
                        {{check "Available immediately" input.availability "Available immediately"}} />
                    <p style="margin-bottom: -3px;">Available immediately</p>
                </div>
                <div class="form-check">
                    <label style="font-weight: 10; color: rgb(97, 95, 95);">Available after...</label>
                    <input class="form-check-input" type="radio" name="availability" id="availability-after"
                        value="after" style="margin-left: -130px;"
                        {{check "after" input.availability "Available immediately"}} />

                    <div class="col-5 details showdate"
                        style="margin-left: -15px; margin-top: 5px; margin-bottom: 10px;">
                        <input type="date" class="form-control" id="date" name="date" value="{{input.date}}" />

                        <p style="color: red;">
                            {{details.dateError}}
                        </p>
                    </div>
                </div>
                <label>How far are you willing to travel for work?<span class="text-danger"> *</span></label>
                <br />
                <div class="dropdown">
                    <select id="travel" name="travel"
                        style="border: 2px black; background-color: rgba(202, 199, 199, 0.438); cursor: pointer; margin-left: 5px;">
                        <option value="up to 25 miles" {{select "up to 25 miles" input.travel}}>up to 25 miles
                            (recommended)</option>
                        <option value="up to 50 miles" {{select "up to 50 miles" input.travel}}>up to 50 miles</option>
                        <option value="up to 100 miles" {{select "up to 100 miles" input.travel}}>up to 100 miles
                        </option>
                        <option value="farther than 100 miles" {{select "farther than 100 miles" input.travel}}>farther
                            than 100 miles</option>
                    </select>
                </div>
            </div>
        </div>
    </div>

    <div class="card mx-auto border shadow-sm" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Additional Profile Information<span class="text-danger"> *</span></div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Provide more information that can help
                you to stand out among other applicants.</p>
            <div class="card-text">
                <label>Short Personal Profile<span class="text-danger"> *</span></label><br />
                <textarea class="w-100" id="shortprofile" name="shortprofile"
                    style="height: 8em;">{{input.shortprofile}}</textarea>


                <p style="font-style: italic; font-size: 12px;">Consider including things not found on your resume (e.g.
                    hobbies, interests, goals). Market yourself.</p>
                <p style="color: red; margin-top: -10px">
                    {{details.shortprofileError}}
                </p>
                <label>Profile Photo</label><br />
                <p style="font-style: normal; font-size: 14px;">Profile photo is not required. But feel free to upload
                    your photo so employers can virtually see you.</p>

                <div class="container form-upload"
                    style="justify-content: center; align-items: center; text-align: center;">
                    <img class="img-circle" id="output" src="/imgs/portrait.png" style="margin-left: 2px;" />
                    <div>
                        <div class="col" style="padding-left: 150px;">
                            <p class="mx-auto w-100">
                                <input type="file" id="avatar" name="avatar" accept="image/jpeg, image/png"
                                    value="{{input.avatar}}"
                                    onchange="document.getElementById('output').src = window.URL.createObjectURL(this.files[0])" />
                            </p>
                        </div>
                    </div>
                </div>

                <label>Resume<span class="text-danger"> *</span></label><br />
                <p style="font-style: normal; font-size: 14px; margin-top: -5px;">Include only the most relevant
                    information on your resume.</p>

                <div class="container form-upload mb-5"
                    style="justify-content: center; align-items: center; text-align: center;">
                    <img class="img-circle" src="/imgs/document.jpg" />
                    <div>
                        <div class="col" style="padding-left: 150px;">
                            <p><input type="file" id="resume" name="resume"
                                    accept="application/pdf"
                                    value="{{input.resume}}" required/></p>
                        </div>
                        <div class="col" style="max-width: 30em;">
                            <p style="font-size: small;">Accepted format of resume should be in PDF(.pdf) only</p>
                        </div>
                    </div>
                </div>
                <p style="color: red;" id="resume_error"></p>
            </div>
        </div>
    </div>

    <div class="card mx-auto border shadow-sm" style="width: 50rem; margin-bottom: 2rem;">
        <div class="card-body">
            <div class="card-title" style="font-size: 42px;">Candidate Agreement<span class="text-danger"> *</span></div>
            <p style="font-style: italic; font-size: 16px; margin-top: -16px;">Please read and familiarize yourself with
                our agreement and conditions.</p>
            <div class="card-text">
                <textarea class="w-100" id="candidateagreement" style="margin-bottom: 10px;" disabled>
 Put your candidate agreement and policy here...

                </textarea>
                <div class="form-check" style="margin-left: 5px; margin-top: -15px;">
                    <input type="checkbox" class="form-check-input" id="useragreement" name="useragreement"
                        {{#if input.useragreement}}checked{{/if}} />
                    <p style="font-style: italic; font-size: 14px;">I have read, understand and agree to the Candidate
                        Agreement, Terms and Conditions, and Privacy Policy</p>
                    <p style="color: red; margin-left: -20px;">
                        {{details.useragreementError}}</p>
                </div>
                <label>Last Question! How did you hear about us?</label>
                <br />
                <div class="dropdown">
                    <select id="feedback" name="feedback"
                        style="border: 2px black; background-color: rgba(197, 194, 194, 0.438); cursor: pointer; margin-left: 5px;">
                        <option value="From a friend" {{select "From a friend" input.feedback}}>From a friend</option>
                        <option value="From an ad" {{select "From an ad" input.feedback}}>From an ad</option>
                        <option value="From a recommendation" {{select "From a recommendation" input.feedback}}>From a
                            recommendation</option>

                    </select>
                </div>
                <br />
                <br />
                <button type="submit" class="btn btn-primary w-100">SUBMIT</button>
            </div>
        </div>
    </div>
</form>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/js/dropdown-populator.js"></script>

<script type = "application/javascript">
    var file = document.getElementById('resume');

    file.onchange = function(e) {
        var ext = this.value.match(/\.([^\.]+)$/)[1];
        switch (ext) {
            case 'pdf':
            document.getElementById('resume_error').innerHTML = ''
            break;
            default:
            document.getElementById('resume_error').innerHTML = 'The file that you are trying to upload is not a pdf. Try again.'
            this.value = '';
        }
    };

    window.BeforeUnloadEvent = function (){
        alert("hello");
    }
    
</script>